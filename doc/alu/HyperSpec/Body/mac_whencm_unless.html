<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML 2.0//EN">
<!-- Common Lisp HyperSpec (TM), version 3.0 generated by kmp on Thu, 2-May-1996 10:21am EDT -->
<HTML>
<HEAD>
<TITLE>CLHS: Macro WHEN, UNLESS</TITLE>
<META HTTP-EQUIV="Author" CONTENT="Kent M. Pitman">
<META HTTP-EQUIV="Organization" CONTENT="The Harlequin Group Limited">
<LINK REL=TOP HREF="../FrontMatter/index.html">
<LINK REL=COPYRIGHT HREF="../FrontMatter/About-HyperSpec.html#Legal">
<LINK REL=DISCLAIMER HREF="../FrontMatter/About-HyperSpec.html#Disclaimer">
<LINK REL=PREV HREF="mac_or.html">
<LINK REL=UP HREF="sec_the_data__w_dictionary.html">
<LINK REL=NEXT HREF="mac_casecm_ccasecm_ecase.html">
</HEAD>
<BODY BGCOLOR="#c0c0c0">
<H1><A REV=MADE HREF="http://www.harlequin.com/"><IMG ALT="[HARLEQUIN]" SRC="../Graphics/Harlequin-Small.gif" ALIGN=Bottom></A><A REL=TOP HREF="../FrontMatter/index.html"><IMG ALT="[Common Lisp HyperSpec (TM)]" SRC="../Graphics/HyperSpec-Small.gif" ALIGN=Bottom></A> <A REL=PREV HREF="mac_or.html"><IMG ALT="[Previous]" SRC="../Graphics/Prev.gif" ALIGN=Bottom></A><A REL=UP HREF="sec_the_data__w_dictionary.html"><IMG ALT="[Up]" SRC="../Graphics/Up.gif" ALIGN=Bottom></A><A REL=NEXT HREF="mac_casecm_ccasecm_ecase.html"><IMG ALT="[Next]" SRC="../Graphics/Next.gif" ALIGN=Bottom></A></H1>

<HR>

<A NAME="when"><A NAME="unless"><I>Macro</I> <B>WHEN, UNLESS</B></A></A> <P>
<P><B>Syntax:</B><P>
 <P>

<B>when</B> <I>test-form <I>form</I><B>*</B></I> =&gt; <I><I>result</I><B>*</B></I><P>
 <P>

<B>unless</B> <I>test-form <I>form</I><B>*</B></I> =&gt; <I><I>result</I><B>*</B></I><P>
 <P>
<P><B>Arguments and Values:</B><P>
 <P>
<I>test-form</I>---a <A REL=DEFINITION HREF="glo_f.html#form"><I>form</I></A>. <P>
<I>forms</I>---an <A REL=DEFINITION HREF="glo_i.html#implicit_progn"><I>implicit progn</I></A>. <P>
<I>results</I>---the <A REL=DEFINITION HREF="glo_v.html#value"><I>values</I></A> of the <A REL=DEFINITION HREF="glo_f.html#form"><I>forms</I></A> in a <A REL=DEFINITION HREF="#when"><B>when</B></A> <A REL=DEFINITION HREF="glo_f.html#form"><I>form</I></A> if the <I>test-form</I> <A REL=DEFINITION HREF="glo_y.html#yield"><I>yields</I></A> <A REL=DEFINITION HREF="glo_t.html#true"><I>true</I></A> or in an <A REL=DEFINITION HREF="#unless"><B>unless</B></A> <A REL=DEFINITION HREF="glo_f.html#form"><I>form</I></A> if the <I>test-form</I> <A REL=DEFINITION HREF="glo_y.html#yield"><I>yields</I></A> <A REL=DEFINITION HREF="glo_f.html#false"><I>false</I></A>; otherwise <A REL=DEFINITION HREF="any_nil.html#nil"><B>nil</B></A>. <P>
<P><B>Description:</B><P>
 <P>
<A REL=DEFINITION HREF="#when"><B>when</B></A> and <A REL=DEFINITION HREF="#unless"><B>unless</B></A> allow the execution of <I>forms</I> to be dependent on a single <I>test-form</I>. <P>
In a <A REL=DEFINITION HREF="#when"><B>when</B></A> <A REL=DEFINITION HREF="glo_f.html#form"><I>form</I></A>, if the <I>test-form</I> <A REL=DEFINITION HREF="glo_y.html#yield"><I>yields</I></A> <A REL=DEFINITION HREF="glo_t.html#true"><I>true</I></A>, the <I>forms</I> are <I>evaluated</I> in order from left to right and the <A REL=DEFINITION HREF="glo_v.html#value"><I>values</I></A> returned by the <I>forms</I> are returned from the <A REL=DEFINITION HREF="#when"><B>when</B></A> <A REL=DEFINITION HREF="glo_f.html#form"><I>form</I></A>. Otherwise, if the <I>test-form</I> <A REL=DEFINITION HREF="glo_y.html#yield"><I>yields</I></A> <A REL=DEFINITION HREF="glo_f.html#false"><I>false</I></A>, the <I>forms</I> are not <I>evaluated</I>, and the <A REL=DEFINITION HREF="#when"><B>when</B></A> <A REL=DEFINITION HREF="glo_f.html#form"><I>form</I></A> returns <A REL=DEFINITION HREF="any_nil.html#nil"><B>nil</B></A>. <P>
In an <A REL=DEFINITION HREF="#unless"><B>unless</B></A> <A REL=DEFINITION HREF="glo_f.html#form"><I>form</I></A>, if the <I>test-form</I> <A REL=DEFINITION HREF="glo_y.html#yield"><I>yields</I></A> <A REL=DEFINITION HREF="glo_f.html#false"><I>false</I></A>, the <I>forms</I> are <I>evaluated</I> in order from left to right and the <A REL=DEFINITION HREF="glo_v.html#value"><I>values</I></A> returned by the <I>forms</I> are returned from the <A REL=DEFINITION HREF="#unless"><B>unless</B></A> <A REL=DEFINITION HREF="glo_f.html#form"><I>form</I></A>. Otherwise, if the <I>test-form</I> <A REL=DEFINITION HREF="glo_y.html#yield"><I>yields</I></A> <A REL=DEFINITION HREF="glo_f.html#false"><I>false</I></A>, the <I>forms</I> are not <I>evaluated</I>, and the <A REL=DEFINITION HREF="#unless"><B>unless</B></A> <A REL=DEFINITION HREF="glo_f.html#form"><I>form</I></A> returns <A REL=DEFINITION HREF="any_nil.html#nil"><B>nil</B></A>. <P>
<P><B>Examples:</B><P>
 <P>
<PRE>
 (when t 'hello) =&gt;  HELLO
 (unless t 'hello) =&gt;  NIL
 (when nil 'hello) =&gt;  NIL
 (unless nil 'hello) =&gt;  HELLO
 (when t) =&gt;  NIL
 (unless nil) =&gt;  NIL
 (when t (prin1 1) (prin1 2) (prin1 3))
&gt;&gt;  123
=&gt;  3
 (unless t (prin1 1) (prin1 2) (prin1 3)) =&gt;  NIL
 (when nil (prin1 1) (prin1 2) (prin1 3)) =&gt;  NIL
 (unless nil (prin1 1) (prin1 2) (prin1 3))
&gt;&gt;  123
=&gt;  3
 (let ((x 3))
   (list (when (oddp x) (incf x) (list x))
         (when (oddp x) (incf x) (list x))
         (unless (oddp x) (incf x) (list x))
         (unless (oddp x) (incf x) (list x))
         (if (oddp x) (incf x) (list x)) 
         (if (oddp x) (incf x) (list x)) 
         (if (not (oddp x)) (incf x) (list x)) 
         (if (not (oddp x)) (incf x) (list x))))
=&gt;  ((4) NIL (5) NIL 6 (6) 7 (7))
</PRE>
</TT> <P>
<P><B>Side Effects:</B> None.
 <P>
<P><B>Affected By:</B> None.
 <P>
<P><B>Exceptional Situations:</B> None.
 <P>
<P><B>See Also:</B><P>
 <P>
<A REL=DEFINITION HREF="mac_and.html#and"><B>and</B></A>, <A REL=DEFINITION HREF="mac_cond.html#cond"><B>cond</B></A>, <A REL=DEFINITION HREF="speope_if.html#if"><B>if</B></A>, <A REL=DEFINITION HREF="mac_or.html#or"><B>or</B></A> <P>
<P><B>Notes:</B><P>
 <P>
<PRE>
 (when test {form}+) ==  (and test (progn {form}+))
 (when test {form}+) ==  (cond (test {form}+))
 (when test {form}+) ==  (if test (progn {form}+) nil)
 (when test {form}+) ==  (unless (not test) {form}+)
 (unless test {form}+) ==  (cond ((not test) {form}+))
 (unless test {form}+) ==  (if test nil (progn {form}+))
 (unless test {form}+) ==  (when (not test) {form}+)
</PRE>
</TT> <P>

<HR>

<A REL=NAVIGATOR HREF="../FrontMatter/Starting-Points.html"><IMG ALT="[Starting Points]" SRC="../Graphics/Starting-Points.gif" ALIGN=Bottom></A><A REL=TOC HREF="../FrontMatter/Chapter-Index.html"><IMG ALT="[Contents]" SRC="../Graphics/Contents.gif" ALIGN=Bottom></A><A REL=INDEX HREF="../FrontMatter/Master-Index.html"><IMG ALT="[Index]" SRC="../Graphics/Index.gif" ALIGN=Bottom></A><A REL=INDEX HREF="../FrontMatter/Symbol-Index.html"><IMG ALT="[Symbols]" SRC="../Graphics/Symbols.gif" ALIGN=Bottom></A><A REL=GLOSSARY HREF="../Body/sec_26-1.html"><IMG ALT="[Glossary]" SRC="../Graphics/Glossary.gif" ALIGN=Bottom></A><A HREF="../Issues/Issues-Categorized.html"><IMG ALT="[Issues]" SRC="../Graphics/Issues.gif" ALIGN=Bottom></A><BR>

<A REL=COPYRIGHT HREF="../FrontMatter/About-HyperSpec.html#Legal"><I>Copyright 1996, The Harlequin Group Limited.  All Rights Reserved.</I></A><P>
</BODY>
</HTML>
